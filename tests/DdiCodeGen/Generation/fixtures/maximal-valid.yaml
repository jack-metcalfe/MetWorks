#maximal-valid
codeGen:
  registryClassName: "Registry"
  generatedCodePath: "Generated"
  namespaceName: "ServiceRegistry"
  initializerName: "InitializeAsync"

namespaces:
  - namespaceName: "InterfaceDefinition"
    interfaces:
      - interfaceName: "IFileLogger"
      - interfaceName: "ISettingConfiguration"
      - interfaceName: "ISettingsRepository"
      - interfaceName: "IBackgroundService"
      - interfaceName: "ISettingOverridesProvider"
    classes: []

  - namespaceName: "System"
    interfaces: []
    classes:
      - className: "String"
        initializerParameters: []
      - className: "Boolean"
        initializerParameters: []
      - className: "CancellationTokenSource"
        initializerParameters: []

  - namespaceName: "Logging"
    interfaces: []
    classes:
      - className: "FileLogger"
        initializerParameters:
          - parameterName: "fileSizeLimitBytes"
            qualifiedClassName: "System.Int32"
          - parameterName: "minimumLevel"
            qualifiedClassName: "System.String"
          - parameterName: "outputTemplate"
            qualifiedClassName: "System.String"
          - parameterName: "path"
            qualifiedClassName: "System.String"
          - parameterName: "retainedFileCountLimit"
            qualifiedClassName: "System.Int32"
          - parameterName: "rollingInterval"
            qualifiedClassName: "System.String"
          - parameterName: "rollOnFileSizeLimit"
            qualifiedClassName: "System.Boolean"

  - namespaceName: "MauiSettingOverridesProviders"
    interfaces: []
    classes:
      - className: "AppDataSettingOverridesProvider"
        initializerParameters:
          - parameterName: "filename"
            qualifiedClassName: "System.String"

  - namespaceName: "Settings"
    interfaces: []
    classes:
      - className: "SettingConfiguration"
        initializerParameters:
          - parameterName: "defaultValue"
            qualifiedClassName: "System.String"
          - parameterName: "description"
            qualifiedClassName: "System.String"
          - parameterName: "expectedValueType"
            qualifiedClassName: "System.String"
          - parameterName: "group"
            qualifiedClassName: "System.String"
          - parameterName: "isEditable"
            qualifiedClassName: "System.Boolean"
          - parameterName: "path"
            qualifiedClassName: "System.String"
          - parameterName: "enumValues"
            qualifiedClassName: "System.String[]"
          - parameterName: "isSecret"
            qualifiedClassName: "System.Boolean?"
      - className: "SettingsRepository"
        initializerParameters:
          - parameterName: "iFileLogger"
            qualifiedInterfaceName: "InterfaceDefinition.IFileLogger"
          - parameterName: "settingConfigurations"
            qualifiedClassName: "Settings.SettingConfiguration[]"
          - parameterName: "iSettingOverridesProvider"
            qualifiedInterfaceName: "InterfaceDefinition.ISettingOverridesProvider"

  - namespaceName: "UdpInRawPacketRecordTypedOut"
    interfaces: []
    classes:
      - className: "Transformer"
        initializerParameters:
          - parameterName: "iFileLogger"
            qualifiedInterfaceName: "InterfaceDefinition.IFileLogger"
          - parameterName: "iSettingsRepository"
            qualifiedInterfaceName: "InterfaceDefinition.ISettingsRepository"
          - parameterName: "externalCancellationTokenSource"
            qualifiedClassName: "System.CancellationTokenSource"

  - namespaceName: "RawPacketRecordTypedInPostgresOut"
    interfaces: []
    classes:
      - className: "ListenerSink"
        initializerParameters:
          - parameterName: "iFileLogger"
            qualifiedInterfaceName: "InterfaceDefinition.IFileLogger"
          - parameterName: "iSettingsRepository"
            qualifiedInterfaceName: "InterfaceDefinition.ISettingsRepository"

namedInstances:
  - namedInstanceName: "RootCancellationTokenSource"
    qualifiedClassName: "System.CancellationTokenSource"
    assignments: []
    elements: []

  - namedInstanceName: "TheFileLogger"
    qualifiedClassName: "Logging.FileLogger"
    assignments:
      - parameterName: "fileSizeLimitBytes"
        assignedValue: "10485760"
      - parameterName: "minimumLevel"
        assignedValue: "Information"
      - parameterName: "outputTemplate"
        assignedValue: "[{Timestamp:yyyy-MM-dd HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}"
      - parameterName: "path"
        assignedValue: "logs/log-.txt"
      - parameterName: "retainedFileCountLimit"
        assignedValue: "7"
      - parameterName: "rollingInterval"
        assignedValue: "Day"
      - parameterName: "rollOnFileSizeLimit"
        assignedValue: "true"
    elements: []

  - namedInstanceName: "TheUdpPortSetting"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments:
      - parameterName: "defaultValue"
        assignedValue: "50222"
      - parameterName: "description"
        assignedValue: "UDP Port for listening for readings from Tempest Weather Station"
      - parameterName: "expectedValueType"
        assignedValue: "Int32"
      - parameterName: "group"
        assignedValue: "UDPSettings"
      - parameterName: "isEditable"
        assignedValue: "true"
      - parameterName: "path"
        assignedValue: "/services/UDPSettings/PreferredPort"
      - parameterName: "enumValues"
        assignedValue: null
      - parameterName: "isSecret"
        assignedValue: null
    elements: []

  - namedInstanceName: "TheUdpPortSettings"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments: []
    elements:
      - namedInstanceName: "TheUdpPortSetting"

  - namedInstanceName: "TemperatureOptions"
    qualifiedClassName: "System.String"
    assignments: []
    elements:
      - value: "degree celsius"
      - value: "degree fahrenheit"

  - namedInstanceName: "UdpTemperatureSetting"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments:
      - parameterName: "defaultValue"
        assignedValue: "degree fahrenheit"
      - parameterName: "description"
        assignedValue: "Override temperature unit for UDP readings"
      - parameterName: "expectedValueType"
        assignedValue: "String"
      - parameterName: "group"
        assignedValue: "units"
      - parameterName: "isEditable"
        assignedValue: "true"
      - parameterName: "path"
        assignedValue: "/services/udp/unitOverrides/temperature"
      - parameterName: "enumValues"
        namedInstanceName: "TemperatureOptions"
      - parameterName: "isSecret"
        assignedValue: null
    elements: []

  - namedInstanceName: "WindspeedOptions"
    qualifiedClassName: "System.String"
    assignments: []
    elements:
      - value: "kilometer/hour"
      - value: "knot"
      - value: "meter/second"
      - value: "mile/hour"

  - namedInstanceName: "UdpWindspeedSetting"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments:
      - parameterName: "defaultValue"
        assignedValue: "mile/hour"
      - parameterName: "description"
        assignedValue: "Override wind speed unit for UDP readings"
      - parameterName: "expectedValueType"
        assignedValue: "String"
      - parameterName: "group"
        assignedValue: "units"
      - parameterName: "isEditable"
        assignedValue: "true"
      - parameterName: "path"
        assignedValue: "/services/udp/unitOverrides/windSpeed"
      - parameterName: "enumValues"
        namedInstanceName: "WindspeedOptions"
      - parameterName: "isSecret"
        assignedValue: null
    elements: []

  - namedInstanceName: "PressureOptions"
    qualifiedClassName: "System.String"
    assignments: []
    elements:
      - value: "atmosphere"
      - value: "bar"
      - value: "hectopascal"
      - value: "inch of mercury"
      - value: "kilopascal"
      - value: "millibar"
      - value: "pascal"

  - namedInstanceName: "UdpPressureSetting"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments:
      - parameterName: "defaultValue"
        assignedValue: "millibar"
      - parameterName: "description"
        assignedValue: "Override pressure unit for UDP readings"
      - parameterName: "expectedValueType"
        assignedValue: "String"
      - parameterName: "group"
        assignedValue: "units"
      - parameterName: "isEditable"
        assignedValue: "true"
      - parameterName: "path"
        assignedValue: "/services/udp/unitOverrides/pressure"
      - parameterName: "enumValues"
        namedInstanceName: "PressureOptions"
      - parameterName: "isSecret"
        assignedValue: null
    elements: []

  - namedInstanceName: "PrecipitationOptions"
    qualifiedClassName: "System.String"
    assignments: []
    elements:
      - value: "centimeter"
      - value: "inch"
      - value: "millimeter"

  - namedInstanceName: "UdpPrecipitationSetting"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments:
      - parameterName: "defaultValue"
        assignedValue: "inch"
      - parameterName: "description"
        assignedValue: "Override precipitation unit for UDP readings"
      - parameterName: "expectedValueType"
        assignedValue: "String"
      - parameterName: "group"
        assignedValue: "units"
      - parameterName: "isEditable"
        assignedValue: "true"
      - parameterName: "path"
        assignedValue: "/services/udp/unitOverrides/precipitation"
      - parameterName: "enumValues"
        namedInstanceName: "PrecipitationOptions"
      - parameterName: "isSecret"
        assignedValue: null
    elements: []

  - namedInstanceName: "DistanceOptions"
    qualifiedClassName: "System.String"
    assignments: []
    elements:
      - value: "kilometer"
      - value: "meter"
      - value: "mile"
      - value: "nautical mile"

  - namedInstanceName: "UdpDistanceSetting"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments:
      - parameterName: "defaultValue"
        assignedValue: "mile"
      - parameterName: "description"
        assignedValue: "Override distance unit for UDP readings"
      - parameterName: "expectedValueType"
        assignedValue: "String"
      - parameterName: "group"
        assignedValue: "units"
      - parameterName: "isEditable"
        assignedValue: "true"
      - parameterName: "path"
        assignedValue: "/services/udp/unitOverrides/distance"
      - parameterName: "enumValues"
        namedInstanceName: "DistanceOptions"
      - parameterName: "isSecret"
        assignedValue: null
    elements: []

  - namedInstanceName: "TheUdpListenerSettings"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments: []
    elements:
      - namedInstanceName: "UdpTemperatureSetting"
      - namedInstanceName: "UdpWindspeedSetting"
      - namedInstanceName: "UdpPressureSetting"
      - namedInstanceName: "UdpPrecipitationSetting"
      - namedInstanceName: "UdpDistanceSetting"

  - namedInstanceName: "TheAppDataSettingOverridesProvider"
    qualifiedClassName: "MauiSettingOverridesProviders.AppDataSettingOverridesProvider"
    assignments:
      - parameterName: "filename"
        assignedValue: null
    elements: []

  - namedInstanceName: "TheUDPSettingsRepository"
    qualifiedClassName: "Settings.SettingsRepository"
    assignments:
      - parameterName: "iFileLogger"
        namedInstanceName: "TheFileLogger"
      - parameterName: "settingConfigurations"
        namedInstanceName: "TheUdpPortSettings"
      - parameterName: "iSettingOverridesProvider"
        namedInstanceName: "TheAppDataSettingOverridesProvider"
    elements: []

  - namedInstanceName: "TheUdpListener"
    qualifiedClassName: "UdpInRawPacketRecordTypedOut.Transformer"
    assignments:
      - parameterName: "iFileLogger"
        namedInstanceName: "TheFileLogger"
      - parameterName: "iSettingsRepository"
        namedInstanceName: "TheUDPSettingsRepository"
      - parameterName: "externalCancellationTokenSource"
        namedInstanceName: "RootCancellationTokenSource"
    elements: []

  - namedInstanceName: "ThePostgresConnection"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments:
      - parameterName: "defaultValue"
        assignedValue: "emptyString"
      - parameterName: "description"
        assignedValue: "Connection string for save weather data to Postgres"
      - parameterName: "expectedValueType"
        assignedValue: "String"
      - parameterName: "group"
        assignedValue: "database"
      - parameterName: "isEditable"
        assignedValue: "true"
      - parameterName: "path"
        assignedValue: "/services/RawPacketRecordTypedInPostgresOut/connectionString"
      - parameterName: "enumValues"
        assignedValue: null
      - parameterName: "isSecret"
        assignedValue: "true"
    elements: []

  - namedInstanceName: "ThePostgresSettings"
    qualifiedClassName: "Settings.SettingConfiguration"
    assignments: []
    elements:
      - namedInstanceName: "ThePostgresConnection"

  - namedInstanceName: "ThePostgresSettingsRepository"
    qualifiedClassName: "Settings.SettingsRepository"
    assignments:
      - parameterName: "iFileLogger"
        namedInstanceName: "TheFileLogger"
      - parameterName: "settingConfigurations"
        namedInstanceName: "ThePostgresSettings"
    elements: []

  - namedInstanceName: "TheRawPacketRecordTypedInPostgresOut"
    qualifiedClassName: "RawPacketRecordTypedInPostgresOut.ListenerSink"
    assignments:
      - parameterName: "iFileLogger"
        namedInstanceName: "TheFileLogger"
      - parameterName: "iSettingsRepository"
        namedInstanceName: "ThePostgresSettingsRepository"
    elements: []